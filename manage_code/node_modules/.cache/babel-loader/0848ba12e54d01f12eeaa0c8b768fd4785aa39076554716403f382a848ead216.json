{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\nrequire(\"core-js/modules/web.timers.js\");\nrequire(\"core-js/modules/es.array.push.js\");\nrequire(\"core-js/modules/es.parse-float.js\");\nrequire(\"core-js/modules/es.object.define-property.js\");\nvar _vue = require(\"vue\");\nrequire(\"@/assets/js/echarts-theme\");\nvar _default = {\n  __name: 'HomeView',\n  setup: function setup(__props, _ref) {\n    var _getCurrentInstance;\n    var expose = _ref.expose;\n    expose();\n    var context = (_getCurrentInstance = (0, _vue.getCurrentInstance)()) === null || _getCurrentInstance === void 0 ? void 0 : _getCurrentInstance.appContext.config.globalProperties;\n    var projectName = context.$project.projectName;\n    var countTypeList = (0, _vue.ref)({});\n    var getCountList = function getCountList() {\n      countTypeList.value.closexueshengCountType = true;\n      countTypeList.value.hiddenxueshengCountType = true;\n      if (btnAuth('xuesheng', '首页总数')) {\n        getxueshengCount();\n      }\n      countTypeList.value.closejiaoxueziyuanCountType = true;\n      countTypeList.value.hiddenjiaoxueziyuanCountType = true;\n      if (btnAuth('jiaoxueziyuan', '首页总数')) {\n        getjiaoxueziyuanCount();\n      }\n    };\n    var xueshengCount = (0, _vue.ref)(0);\n    var getxueshengCount = function getxueshengCount() {\n      context === null || context === void 0 ? void 0 : context.$http({\n        url: 'xuesheng/count',\n        method: 'get'\n      }).then(function (res) {\n        xueshengCount.value = res.data.data;\n      });\n    };\n    var jiaoxueziyuanCount = (0, _vue.ref)(0);\n    var getjiaoxueziyuanCount = function getjiaoxueziyuanCount() {\n      context === null || context === void 0 ? void 0 : context.$http({\n        url: 'jiaoxueziyuan/count',\n        method: 'get'\n      }).then(function (res) {\n        jiaoxueziyuanCount.value = res.data.data;\n      });\n    };\n    var countTypeClick = function countTypeClick(e) {\n      countTypeList.value[e] = !countTypeList.value[e];\n    };\n    //权限验证\n    var btnAuth = function btnAuth(e, a) {\n      return context === null || context === void 0 ? void 0 : context.$toolUtil.isAuth(e, a);\n    };\n    var echarts = (0, _vue.inject)(\"echarts\");\n    var cardTypeClick = function cardTypeClick(e) {\n      cardTypeList.value[e] = !cardTypeList.value[e];\n      setTimeout(function () {\n        getCardList();\n      }, 1000);\n    };\n    var cardTypeList = (0, _vue.ref)({\n      closexueshengChartType1: true,\n      hiddenxueshengChartType1: true,\n      closejiaoxueziyuanChartType1: true,\n      hiddenjiaoxueziyuanChartType1: true\n    });\n    var getCardList = function getCardList() {\n      if (btnAuth('xuesheng', '首页统计')) {\n        getxueshengChart1();\n      }\n      if (btnAuth('jiaoxueziyuan', '首页统计')) {\n        getjiaoxueziyuanChart1();\n      }\n    };\n    var getxueshengChart1 = function getxueshengChart1() {\n      (0, _vue.nextTick)(function () {\n        var xingbieEchart1 = echarts.init(document.getElementById(\"xueshengxingbieEchart1\"), 'theme');\n        context === null || context === void 0 ? void 0 : context.$http({\n          url: \"xuesheng/group/xingbie\",\n          method: \"get\"\n        }).then(function (obj) {\n          var res = obj.data.data;\n          var xAxis = [];\n          var yAxis = [];\n          var dataList = [];\n          for (var i = 0; i < res.length; i++) {\n            xAxis.push(res[i].xingbie);\n            yAxis.push(parseFloat(res[i].total));\n            dataList.push({\n              value: parseFloat(res[i].total),\n              name: res[i].xingbie\n            });\n          }\n          var option = {};\n          option = {\n            title: {\n              text: '学生性别统计',\n              left: 'center'\n            },\n            legend: {\n              orient: 'vertical',\n              left: 'left'\n            },\n            tooltip: {\n              trigger: 'item',\n              formatter: '{b} : {c} ({d}%)'\n            },\n            series: [{\n              type: 'pie',\n              radius: '55%',\n              center: ['50%', '60%'],\n              data: dataList,\n              emphasis: {\n                itemStyle: {\n                  shadowBlur: 10,\n                  shadowOffsetX: 0,\n                  shadowColor: 'rgba(0, 0, 0, 0.5)'\n                }\n              }\n            }]\n          };\n          xingbieEchart1.clear();\n          // 使用刚指定的配置项和数据显示图表。\n          xingbieEchart1.setOption(option);\n          //根据窗口的大小变动图表\n          xingbieEchart1.resize();\n        });\n      });\n    };\n    var getjiaoxueziyuanChart1 = function getjiaoxueziyuanChart1() {\n      (0, _vue.nextTick)(function () {\n        var ziyuanleixingEchart1 = echarts.init(document.getElementById(\"jiaoxueziyuanziyuanleixingEchart1\"), 'theme');\n        context === null || context === void 0 ? void 0 : context.$http({\n          url: \"jiaoxueziyuan/group/ziyuanleixing\",\n          method: \"get\"\n        }).then(function (obj) {\n          var res = obj.data.data;\n          var xAxis = [];\n          var yAxis = [];\n          var dataList = [];\n          for (var i = 0; i < res.length; i++) {\n            xAxis.push(res[i].ziyuanleixing);\n            yAxis.push(parseFloat(res[i].total));\n            dataList.push({\n              value: parseFloat(res[i].total),\n              name: res[i].ziyuanleixing\n            });\n          }\n          var option = {};\n          option = {\n            title: {\n              text: '资源类型',\n              left: 'center'\n            },\n            legend: {\n              orient: 'vertical',\n              left: 'left'\n            },\n            tooltip: {\n              trigger: 'item',\n              formatter: '{b} : {c} ({d}%)'\n            },\n            series: [{\n              type: 'pie',\n              radius: '55%',\n              center: ['50%', '60%'],\n              data: dataList,\n              emphasis: {\n                itemStyle: {\n                  shadowBlur: 10,\n                  shadowOffsetX: 0,\n                  shadowColor: 'rgba(0, 0, 0, 0.5)'\n                }\n              }\n            }]\n          };\n          option.series[0].radius = ['25%', '55%'];\n          ziyuanleixingEchart1.clear();\n          // 使用刚指定的配置项和数据显示图表。\n          ziyuanleixingEchart1.setOption(option);\n          //根据窗口的大小变动图表\n          ziyuanleixingEchart1.resize();\n        });\n      });\n    };\n    var init = function init() {\n      getCountList();\n      getCardList();\n    };\n    init();\n    var __returned__ = {\n      context: context,\n      projectName: projectName,\n      countTypeList: countTypeList,\n      getCountList: getCountList,\n      xueshengCount: xueshengCount,\n      getxueshengCount: getxueshengCount,\n      jiaoxueziyuanCount: jiaoxueziyuanCount,\n      getjiaoxueziyuanCount: getjiaoxueziyuanCount,\n      countTypeClick: countTypeClick,\n      btnAuth: btnAuth,\n      get echarts() {\n        return echarts;\n      },\n      set echarts(v) {\n        echarts = v;\n      },\n      cardTypeClick: cardTypeClick,\n      cardTypeList: cardTypeList,\n      getCardList: getCardList,\n      getxueshengChart1: getxueshengChart1,\n      getjiaoxueziyuanChart1: getjiaoxueziyuanChart1,\n      init: init,\n      inject: _vue.inject,\n      nextTick: _vue.nextTick,\n      ref: _vue.ref,\n      getCurrentInstance: _vue.getCurrentInstance\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};\nexports[\"default\"] = _default;","map":{"version":3,"mappings":"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","names":["context","appContext","config","globalProperties","projectName","$project","countTypeList","getCountList","value","closexueshengCountType","hiddenxueshengCountType","btnAuth","getxueshengCount","closejiaoxueziyuanCountType","hiddenjiaoxueziyuanCountType","getjiaoxueziyuanCount","xueshengCount","$http","url","method","then","res","data","jiaoxueziyuanCount","countTypeClick","e","a","$toolUtil","isAuth","echarts","cardTypeClick","cardTypeList","setTimeout","getCardList","closexueshengChartType1","hiddenxueshengChartType1","closejiaoxueziyuanChartType1","hiddenjiaoxueziyuanChartType1","getxueshengChart1","getjiaoxueziyuanChart1","xingbieEchart1","init","document","getElementById","obj","xAxis","yAxis","dataList","i","length","push","xingbie","parseFloat","total","name","option","title","text","left","legend","orient","tooltip","trigger","formatter","series","type","radius","center","emphasis","itemStyle","shadowBlur","shadowOffsetX","shadowColor","clear","setOption","resize","ziyuanleixingEchart1","ziyuanleixing"],"sources":["/Users/xinxiao/Desktop/education_ai/manage_code/src/views/HomeView.vue"],"sourcesContent":["<template>\r\n\t<div class=\"home_view\">\r\n\t\t<div class=\"projectTitle\">欢迎使用 {{projectName}}</div>\r\n\t\t<div class=\"count_list\">\r\n\t\t\t<el-collapse-transition v-if=\"btnAuth('xuesheng','首页总数')\">\r\n\t\t\t\t<el-card v-show=\"countTypeList.closexueshengCountType\" class=\"card_view count-item\">\r\n\t\t\t\t\t<template #header>\r\n\t\t\t\t\t\t<div class=\"index_card_head\">\r\n\t\t\t\t\t\t\t<div class=\"card_head_title\">\r\n\t\t\t\t\t\t\t\t学生\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div class=\"card_head_right\">\r\n\t\t\t\t\t\t\t\t<el-icon @click=\"countTypeClick('hiddenxueshengCountType')\" class=\"showIcons\"\r\n\t\t\t\t\t\t\t\t\t:class=\"countTypeList.hiddenxueshengCountType?'showIcons1':''\">\r\n\t\t\t\t\t\t\t\t\t<ArrowUpBold />\r\n\t\t\t\t\t\t\t\t</el-icon>\r\n\t\t\t\t\t\t\t\t<el-icon @click=\"countTypeClick('closexueshengCountType')\" class=\"closeIcons\">\r\n\t\t\t\t\t\t\t\t\t<CloseBold />\r\n\t\t\t\t\t\t\t\t</el-icon>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</template>\r\n\t\t\t\t\t<el-collapse-transition>\r\n\t\t\t\t\t\t<div class=\"count_item\" v-show=\"countTypeList.hiddenxueshengCountType\">\r\n\t\t\t\t\t\t\t<div class=\"count_title\">学生总数</div>\r\n\t\t\t\t\t\t\t<div class=\"count_num\">{{xueshengCount}}</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</el-collapse-transition>\r\n\t\t\t\t</el-card>\r\n\t\t\t</el-collapse-transition>\r\n\t\t\t<el-collapse-transition v-if=\"btnAuth('jiaoxueziyuan','首页总数')\">\r\n\t\t\t\t<el-card v-show=\"countTypeList.closejiaoxueziyuanCountType\" class=\"card_view count-item\">\r\n\t\t\t\t\t<template #header>\r\n\t\t\t\t\t\t<div class=\"index_card_head\">\r\n\t\t\t\t\t\t\t<div class=\"card_head_title\">\r\n\t\t\t\t\t\t\t\t教学资源\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div class=\"card_head_right\">\r\n\t\t\t\t\t\t\t\t<el-icon @click=\"countTypeClick('hiddenjiaoxueziyuanCountType')\" class=\"showIcons\"\r\n\t\t\t\t\t\t\t\t\t:class=\"countTypeList.hiddenjiaoxueziyuanCountType?'showIcons1':''\">\r\n\t\t\t\t\t\t\t\t\t<ArrowUpBold />\r\n\t\t\t\t\t\t\t\t</el-icon>\r\n\t\t\t\t\t\t\t\t<el-icon @click=\"countTypeClick('closejiaoxueziyuanCountType')\" class=\"closeIcons\">\r\n\t\t\t\t\t\t\t\t\t<CloseBold />\r\n\t\t\t\t\t\t\t\t</el-icon>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</template>\r\n\t\t\t\t\t<el-collapse-transition>\r\n\t\t\t\t\t\t<div class=\"count_item\" v-show=\"countTypeList.hiddenjiaoxueziyuanCountType\">\r\n\t\t\t\t\t\t\t<div class=\"count_title\">教学资源总数</div>\r\n\t\t\t\t\t\t\t<div class=\"count_num\">{{jiaoxueziyuanCount}}</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</el-collapse-transition>\r\n\t\t\t\t</el-card>\r\n\t\t\t</el-collapse-transition>\r\n\t\t</div>\r\n\t\t<div class=\"card_list\">\r\n\t\t\t<el-collapse-transition v-if=\"btnAuth('xuesheng','首页统计')\">\r\n\t\t\t\t<el-card v-show=\"cardTypeList.closexueshengChartType1\" class=\"card_view chart-item\">\r\n\t\t\t\t\t<template #header>\r\n\t\t\t\t\t\t<div class=\"index_card_head\">\r\n\t\t\t\t\t\t\t<div class=\"card_head_title\">\r\n\t\t\t\t\t\t\t\t学生\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div class=\"card_head_right\">\r\n\t\t\t\t\t\t\t\t<el-icon @click=\"cardTypeClick('hiddenxueshengChartType1')\" class=\"showIcons\"\r\n\t\t\t\t\t\t\t\t\t\t :class=\"cardTypeList.hiddenxueshengChartType1?'showIcons1':''\">\r\n\t\t\t\t\t\t\t\t\t<ArrowUpBold />\r\n\t\t\t\t\t\t\t\t</el-icon>\r\n\t\t\t\t\t\t\t\t<el-icon @click=\"cardTypeClick('closexueshengChartType1')\" class=\"closeIcons\">\r\n\t\t\t\t\t\t\t\t\t<CloseBold />\r\n\t\t\t\t\t\t\t\t</el-icon>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</template>\r\n\t\t\t\t\t<el-collapse-transition>\r\n\t\t\t\t\t\t<div class=\"card_item\" v-show=\"cardTypeList.hiddenxueshengChartType1\">\r\n\t\t\t\t\t\t\t<div id=\"xueshengxingbieEchart1\" class=\"Echart\" style=\"width: 100%;height: 400px;\"></div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</el-collapse-transition>\r\n\t\t\t\t</el-card>\r\n\t\t\t</el-collapse-transition>\r\n\t\t\t<el-collapse-transition v-if=\"btnAuth('jiaoxueziyuan','首页统计')\">\r\n\t\t\t\t<el-card v-show=\"cardTypeList.closejiaoxueziyuanChartType1\" class=\"card_view chart-item\">\r\n\t\t\t\t\t<template #header>\r\n\t\t\t\t\t\t<div class=\"index_card_head\">\r\n\t\t\t\t\t\t\t<div class=\"card_head_title\">\r\n\t\t\t\t\t\t\t\t教学资源\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div class=\"card_head_right\">\r\n\t\t\t\t\t\t\t\t<el-icon @click=\"cardTypeClick('hiddenjiaoxueziyuanChartType1')\" class=\"showIcons\"\r\n\t\t\t\t\t\t\t\t\t\t :class=\"cardTypeList.hiddenjiaoxueziyuanChartType1?'showIcons1':''\">\r\n\t\t\t\t\t\t\t\t\t<ArrowUpBold />\r\n\t\t\t\t\t\t\t\t</el-icon>\r\n\t\t\t\t\t\t\t\t<el-icon @click=\"cardTypeClick('closejiaoxueziyuanChartType1')\" class=\"closeIcons\">\r\n\t\t\t\t\t\t\t\t\t<CloseBold />\r\n\t\t\t\t\t\t\t\t</el-icon>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</template>\r\n\t\t\t\t\t<el-collapse-transition>\r\n\t\t\t\t\t\t<div class=\"card_item\" v-show=\"cardTypeList.hiddenjiaoxueziyuanChartType1\">\r\n\t\t\t\t\t\t\t<div id=\"jiaoxueziyuanziyuanleixingEchart1\" class=\"Echart\" style=\"width: 100%;height: 400px;\"></div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</el-collapse-transition>\r\n\t\t\t\t</el-card>\r\n\t\t\t</el-collapse-transition>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n\r\n<script setup>\r\n\timport {\r\n\t\tinject,\r\n\t\tnextTick,\r\n\t\tref,\r\n\t\tgetCurrentInstance\r\n\t} from 'vue';\r\n\tconst context = getCurrentInstance()?.appContext.config.globalProperties;\r\n\tconst projectName = context.$project.projectName\r\n\tconst countTypeList = ref({\r\n\t})\r\n\tconst getCountList=()=>{\r\n\t\tcountTypeList.value.closexueshengCountType = true\r\n\t\tcountTypeList.value.hiddenxueshengCountType = true\r\n\t\tif(btnAuth('xuesheng','首页总数')){\r\n\t\t\tgetxueshengCount()\r\n\t\t}\r\n\t\tcountTypeList.value.closejiaoxueziyuanCountType = true\r\n\t\tcountTypeList.value.hiddenjiaoxueziyuanCountType = true\r\n\t\tif(btnAuth('jiaoxueziyuan','首页总数')){\r\n\t\t\tgetjiaoxueziyuanCount()\r\n\t\t}\r\n\t}\r\n\tconst xueshengCount = ref(0)\r\n\tconst getxueshengCount = () => {\r\n\t\tcontext?.$http({\r\n\t\t\turl:'xuesheng/count',\r\n\t\t\tmethod: 'get'\r\n\t\t}).then(res=>{\r\n\t\t\txueshengCount.value = res.data.data\r\n\t\t})\r\n\t}\r\n\tconst jiaoxueziyuanCount = ref(0)\r\n\tconst getjiaoxueziyuanCount = () => {\r\n\t\tcontext?.$http({\r\n\t\t\turl:'jiaoxueziyuan/count',\r\n\t\t\tmethod: 'get'\r\n\t\t}).then(res=>{\r\n\t\t\tjiaoxueziyuanCount.value = res.data.data\r\n\t\t})\r\n\t}\r\n\tconst countTypeClick = (e) => {\r\n\t\tcountTypeList.value[e] = !countTypeList.value[e]\r\n\t}\r\n\t//权限验证\r\n\tconst btnAuth = (e,a)=>{\r\n\t\treturn context?.$toolUtil.isAuth(e,a)\r\n\t}\r\n\tlet echarts = inject(\"echarts\")\r\n\tconst cardTypeClick = (e) =>{\r\n\t\tcardTypeList.value[e] = !cardTypeList.value[e]\r\n\t\tsetTimeout(()=>{\r\n\t\t\tgetCardList()\r\n\t\t},1000)\r\n\t}\r\n\tconst cardTypeList = ref({\r\n\t\tclosexueshengChartType1: true,\r\n\t\thiddenxueshengChartType1: true,\r\n\t\tclosejiaoxueziyuanChartType1: true,\r\n\t\thiddenjiaoxueziyuanChartType1: true,\r\n\t})\r\n\tconst getCardList = () => {\r\n\t\tif(btnAuth('xuesheng','首页统计')){\r\n\t\t\tgetxueshengChart1()\r\n\t\t}\r\n\t\tif(btnAuth('jiaoxueziyuan','首页统计')){\r\n\t\t\tgetjiaoxueziyuanChart1()\r\n\t\t}\r\n\t}\r\n\timport '@/assets/js/echarts-theme'\r\n\tconst getxueshengChart1 = () => {\r\n\t\tnextTick(()=>{\r\n\t\t\tvar xingbieEchart1 = echarts.init(document.getElementById(\"xueshengxingbieEchart1\"),'theme');\r\n\t\t\tcontext?.$http({\r\n\t\t\t\turl: \"xuesheng/group/xingbie\",\r\n\t\t\t\tmethod: \"get\",\r\n\t\t\t}).then(obj=>{\r\n\t\t\t\tlet res = obj.data.data\r\n\t\t\t\tlet xAxis = [];\r\n\t\t\t\tlet yAxis = [];\r\n\t\t\t\tlet dataList = []\r\n\t\t\t\tfor(let i=0;i<res.length;i++){\r\n\t\t\t\t    xAxis.push(res[i].xingbie);\r\n\t\t\t\t    yAxis.push(parseFloat((res[i].total)));\r\n\t\t\t\t\tdataList.push({\r\n\t\t\t\t        value: parseFloat((res[i].total)),\r\n\t\t\t\t        name: res[i].xingbie\r\n\t\t\t\t    })\r\n\t\t\t\t}\r\n\t\t\t\tvar option = {};\r\n\t\t\t\toption = {\n    title:{\n        text: '学生性别统计',\n        left: 'center'\n    },\n    legend: {\n        orient: 'vertical',\n        left: 'left'\n    },\n    tooltip: {\n        trigger: 'item',\n        formatter: '{b} : {c} ({d}%)'\n    },\n    series: [\n        {\n            type: 'pie',\n            radius: '55%',\n            center: ['50%', '60%'],\n            data: dataList,\n            emphasis: {\n                itemStyle: {\n                  shadowBlur: 10,\n                  shadowOffsetX: 0,\n                  shadowColor: 'rgba(0, 0, 0, 0.5)'\n                }\n            }\n        }\n    ]\n}\r\n\t\t\t\txingbieEchart1.clear()\r\n\t\t\t\t// 使用刚指定的配置项和数据显示图表。\r\n\t\t\t\txingbieEchart1.setOption(option);\r\n\t\t\t\t//根据窗口的大小变动图表\r\n\t\t\t\txingbieEchart1.resize();\r\n\t\t\t})\r\n\t\t})\r\n\t}\r\n\tconst getjiaoxueziyuanChart1 = () => {\r\n\t\tnextTick(()=>{\r\n\t\t\tvar ziyuanleixingEchart1 = echarts.init(document.getElementById(\"jiaoxueziyuanziyuanleixingEchart1\"),'theme');\r\n\t\t\tcontext?.$http({\r\n\t\t\t\turl: \"jiaoxueziyuan/group/ziyuanleixing\",\r\n\t\t\t\tmethod: \"get\",\r\n\t\t\t}).then(obj=>{\r\n\t\t\t\tlet res = obj.data.data\r\n\t\t\t\tlet xAxis = [];\r\n\t\t\t\tlet yAxis = [];\r\n\t\t\t\tlet dataList = []\r\n\t\t\t\tfor(let i=0;i<res.length;i++){\r\n\t\t\t\t    xAxis.push(res[i].ziyuanleixing);\r\n\t\t\t\t    yAxis.push(parseFloat((res[i].total)));\r\n\t\t\t\t\tdataList.push({\r\n\t\t\t\t        value: parseFloat((res[i].total)),\r\n\t\t\t\t        name: res[i].ziyuanleixing\r\n\t\t\t\t    })\r\n\t\t\t\t}\r\n\t\t\t\tvar option = {};\r\n\t\t\t\toption = {\n    title:{\n        text: '资源类型',\n        left: 'center'\n    },\n    legend: {\n        orient: 'vertical',\n        left: 'left'\n    },\n    tooltip: {\n        trigger: 'item',\n        formatter: '{b} : {c} ({d}%)'\n    },\n    series: [\n        {\n            type: 'pie',\n            radius: '55%',\n            center: ['50%', '60%'],\n            data: dataList,\n            emphasis: {\n                itemStyle: {\n                  shadowBlur: 10,\n                  shadowOffsetX: 0,\n                  shadowColor: 'rgba(0, 0, 0, 0.5)'\n                }\n            }\n        }\n    ]\n}\r\n                option.series[0].radius = ['25%', '55%']\r\n\t\t\t\tziyuanleixingEchart1.clear()\r\n\t\t\t\t// 使用刚指定的配置项和数据显示图表。\r\n\t\t\t\tziyuanleixingEchart1.setOption(option);\r\n\t\t\t\t//根据窗口的大小变动图表\r\n\t\t\t\tziyuanleixingEchart1.resize();\r\n\t\t\t})\r\n\t\t})\r\n\t}\r\n\r\n\tconst init=()=>{\r\n\t\tgetCountList()\r\n\t\tgetCardList()\r\n\t}\r\n\tinit()\r\n</script>\r\n<style lang=\"scss\">\r\n\t// 首页盒子\r\n\t.home_view {\r\n        background-image: url(\"http://clfile.zggen.cn/20240915/2ba09c686491481982bda72452d5ca8f.webp\");\r\n\t}\r\n\t.home_view .projectTitle{\r\n\t}\r\n\r\n\t.showIcons {\r\n\t\ttransition: transform 0.3s;\r\n\t\tmargin-right: 10px;\r\n\t}\r\n\r\n\t.showIcons1 {\r\n\t\ttransform: rotate(-180deg);\r\n\t}\r\n\t\r\n\t// 总数盒子\r\n\t.count_list{\r\n\t\t// 总数card\r\n\t\t.card_view {\r\n\t\t\t// card头部\r\n\t\t\t.el-card__header {\r\n\t\t\t\t// 头部盒子\r\n\t\t\t\t.index_card_head {\r\n\t\t\t\t\t// 标题\r\n\t\t\t\t\t.card_head_title {\r\n\t\t\t\t\t}\r\n\t\t\t\t\t// 按钮盒子\r\n\t\t\t\t\t.card_head_right {\r\n\t\t\t\t\t\t// 按钮\r\n\t\t\t\t\t\t.el-icon {\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t// body\r\n\t\t\t.el-card__body {\r\n\t\t\t\t// body盒子\r\n\t\t\t\t.count_item{\r\n\t\t\t\t\t// 总数标题\r\n\t\t\t\t\t.count_title{\r\n\t\t\t\t\t}\r\n\t\t\t\t\t// 总数数字\r\n\t\t\t\t\t.count_num{\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t// 统计图盒子\r\n\t.card_list {\r\n\t\t// 统计图card\r\n\t\t.card_view {\r\n\t\t\t// 头部\r\n\t\t\t.el-card__header {\r\n\t\t\t\t// 头部盒子\r\n\t\t\t\t.index_card_head {\r\n\t\t\t\t\t// 标题\r\n\t\t\t\t\t.card_head_title {\r\n\t\t\t\t\t}\r\n\t\t\t\t\t// 按钮盒子\r\n\t\t\t\t\t.card_head_right {\r\n\t\t\t\t\t\t// 按钮\r\n\t\t\t\t\t\t.el-icon{\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t// body\r\n\t\t\t.el-card__body {\r\n\t\t\t\t// body盒子\r\n\t\t\t\t.card_item{\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</style>\r\n<style>\r\n/*总盒子*/\n.home_view{\n    padding: 20px 30px 20px 40px;\n    margin: 0px;\n    height: auto;\n    min-height: 100vh;\n    background: url() no-repeat center top / cover !important;\n    width: 100%;\n    border-radius: 0px;\n    display:flex;\n    flex-wrap:wrap;\n    align-items:flex-start;\n}\n.home_view .projectTitle{\n    width: 100%;\n    font-size: 26px;\n    font-weight: bold;\n    padding: 40px 0px 20px;\n    height: auto;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    margin: 0px 0px 20px;\n    color: rgb(55, 55, 55);\n}\n\n/*总数*/\n/*总盒子*/\n.home_view .count_list {\n    display:flex;\n    flex-wrap:wrap;\n    justify-content:center;\n    padding:0px 0px 20px;\n    width:100%;\n    align-items:flex-start;\n}\n/*卡片盒子*/\n.home_view .count_list .card_view {\n    width:23%;\n    height:auto;\n    margin:0px 1% 20px;\n    box-sizing:border-box;\n    border:0px;\n    border-radius:0px;\n    flex: 1;\n    padding:0 1%;\n    box-shadow: none;\n}\n\n.home_view .count_list .card_view:nth-child(1) {\n}\n.home_view .count_list .card_view:nth-child(2) {\n}\n.home_view .count_list .card_view:nth-child(3) {\n}\n.home_view .count_list .card_view:nth-child(4) {\n}\n.home_view .count_list .card_view:nth-child(2n+5) {\n}\n.home_view .count_list .card_view:nth-child(2n+6) {\n}\n.home_view .count_list .card_view:nth-child(1):hover {\n}\n.home_view .count_list .card_view:nth-child(2):hover {\n}\n.home_view .count_list .card_view:nth-child(3):hover {\n}\n.home_view .count_list .card_view:nth-child(4):hover {\n}\n.home_view .count_list .card_view:nth-child(2n+5):hover {\n}\n.home_view .count_list .card_view:nth-child(2n+6):hover {\n}\n\n/*head 总盒子*/\n.home_view .count_list .card_view .el-card__header{\n     width: 100%;\n    border: 0px solid rgb(238, 238, 238);\n    display: none;\n}\n/*item*/\n.home_view .count_list .card_view .el-card__header .index_card_head{\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    width: 100%;\n    height: 10px;\n}\n/*标题*/\n.home_view .count_list .card_view .el-card__header .index_card_head .card_head_title{\n    font-size: 14px;\n    color: rgb(51, 51, 51);\n}\n/*按钮盒子*/\n.home_view .count_list .card_view .el-card__header .index_card_head .card_head_right{\n    display: flex;\n    align-items: center;\n}\n/*按钮*/\n.home_view .count_list .card_view .el-card__header .index_card_head .card_head_right .showIcons{\n    color: rgb(102, 102, 102);\n    font-size: 20px;\n    cursor: pointer;\n}\n/*body 总盒子*/\n.home_view .count_list .card_view .el-card__body{\n    padding: 0px;\n    background: none;\n}\n/*item*/\n.home_view .count_list .card_view .el-card__body .count_item{\n    padding: 10px;\n    text-align: left;\n    display: flex;\n    align-items: flex-start;\n    justify-content: flex-start;\n    flex-direction: column;\n}\n/*标题*/\n.home_view .count_list .card_view .el-card__body .count_item .count_title{\n    font-size: 18px;\n    color: rgb(0, 0, 0);\n    line-height: 2;\n    display: inline-block;\n    margin: 0px 10px 0px 0px;\n    font-weight: 500;\n    width: 100%;\n    text-align:center;\n}\n/*数字*/\n.home_view .count_list .card_view .el-card__body .count_item .count_num{\n    width: 100%;\n    font-size: 30px;\n    color: #fac12c;\n    line-height: 2;\n    display: inline-block;\n    font-weight: 500;\n    text-align:center;\n}\n\n/*图表*/\n/*总盒子*/\n.home_view .card_list{\n    width: 100%;\n    display: flex;\n    flex-wrap: wrap;\n    padding: 0px 0px 20px;\n    align-items: flex-start;\n    order:11;\n}\n/*卡片 总盒子*/\n.home_view .card_list .card_view{\n    width: 48%;\n    height: auto;\n    margin: 0px 1% 30px;\n    box-sizing: border-box;\n    border: 0px solid #ddd;\n    border-radius: 0px;\n    padding: 20px 0px 0px;\n    box-shadow: 0 0px 0px 0 rgba(0,0,0,.1);\n}\n/*head 总盒子*/\n.home_view .card_list .card_view .el-card__header{\n    width: 100%;\n    border: 0px solid rgb(238, 238, 238);\n    background: rgb(255, 255, 255);\n    display: none;\n}\n/*item*/\n.home_view .card_list .card_view .el-card__header .index_card_head{\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    width: 100%;\n    height: 10px;\n}\n/*标题*/\n.home_view .card_list .card_view .el-card__header .index_card_head .card_head_title{\n    color: rgb(33, 33, 33);\n}\n/*按钮盒子*/\n.home_view .card_list .card_view .el-card__header .index_card_head .card_head_right{\n    display: none;\n}\n/*按钮*/\n.home_view .card_list .card_view .el-card__header .index_card_head .card_head_right .showIcons{\n    color: rgb(238, 238, 238);\n    font-size: 20px;\n    cursor: pointer;\n}\n\n/*body 总盒子*/\n.home_view .card_list .card_view .el-card__body{\n    padding: 0px;\n    background: rgb(255, 255, 255);\n}\n.home_view .card_list .card_view .el-card__body .card_item{\n    padding: 10px;\n    text-align: center;\n}\n\r\n.home-calendar{\n  border: 0px solid rgb(218, 218, 218);\n  box-shadow: rgba(0, 0, 0, 0.1) 0px 0px 0px;\n  margin: 0px auto 30px;\n  border-radius: 0px;\n  color: rgb(102, 102, 102);\n  background: #fff;\n  width: calc(100% - 30px);\n  font-size: inherit;\n  height: auto;\n  padding:0 0 10px;\n  order:2;\n}\n.home-calendar .header{\n  padding: 17px 40px;\n  border-color: rgba(126, 96, 16, 0.1);\n  flex-wrap: wrap;\n  background: #fff;\n  border-width: 0px 0px 1px;\n  display: flex;\n  width: 100%;\n  border-style: solid;\n  justify-content: space-between;\n  height: auto;\n}\n.home-calendar .header .btn{\n  cursor: pointer;\n  border: 0px solid rgb(153, 153, 153);\n  padding: 0px 0px 0px 12px;\n  align-items: center;\n  color: #333;\n  border-radius: 4px;\n  display: flex;\n  width: auto;\n  font-size: 16px;\n  justify-content: center;\n}\n.home-calendar .header .title{\n  padding: 0px 10px;\n  font-size: 24px;\n  align-items: center;\n  justify-content: center;\n  display: flex;\n  color: #333;\n}\n.home-calendar table{\n  width: 100%;\n  padding: 0px 0px 20px;\n  height: auto;\n}\n.home-calendar tbody,thead{\n  width: 100%;\n}\n.home-calendar tr{\n  width: 100%;\n  align-items: center;\n  justify-content: center;\n  display: flex;\n}\n.home-calendar th{\n  align-items: center;\n  flex: 1;\n  display: flex;\n  line-height: 50px;\n  justify-content: center;\n}\n.home-calendar td{\n  cursor: pointer;\n  padding: 6px 12px 6px;\n  flex: 1;\n  display: flex;\n  justify-content: center;\n  text-align: center;\n}\n.home-calendar td.today .text{\n  width: 80%;\n  height: 80%;\n  padding:5px 0;\n  background: #2f3f5680;\n  color:#fff;\n  border-radius:0px;\n}\n.home-calendar td.festival .text{\n  width: 80%;\n  height: 80%;\n  padding:5px 0;\n  background: #2f3f5610;\n  border-radius:0px;\n}\n\r\n</style>\r\n"]},"metadata":{},"sourceType":"script","externalDependencies":[]}